{% extends 'shared/base.html' %}

{% from 'shared/utils.html' import render_flashes, render_form_field, render_form_errors %}

{% block styles %}
  {% assets 'auth_css' %}
    <link href="{{ ASSET_URL }}" rel="stylesheet">
  {% endassets %}
{% endblock %}

{% block title %}Reset Password | Dawdle{% endblock %}

{% block content %}
  <main class="auth hero is-fullheight-with-navbar">
    {{ render_flashes() }}
    <div class="hero-body columns">
      <div class="column is-6 is-offset-3">
        <div class="container box">
          {{ render_form_errors(form) }}
          <h1 class="title">
            Reset Your Dawdle Password
          </h1>
          <h2 class="subtitle">
            Submit your email address and we'll send you a link to reset your password.
          </h2>
          <form method="POST" action="{{ url_for('auth.reset_password_request') }}" class="content">
            {{ form.csrf_token }}
            {{ render_form_field(form.email, type='email', placeholder='e.g. luke@therebellion.com', left_icon_classes='fas fa-envelope') }}
            <div class="field">
              <div class="control">
                <button class="button is-success">
                  <strong>Submit</strong>
                </button>
              </div>
            </div>
          </form>
          <small>
            Psstâ€¦ If it's any help, Dawdle requires that passwords be at least 8 characters
            long and does not require you to include numbers or uppercase letters. If that
            jogs your memory, you can <a href="{{ url_for('auth.login') }}">try logging in again</a>.
          </small>
        </div>
      </div>
    </div>
  </main>
{% endblock %}
