{% extends 'user/settings.html' %}

{% from 'shared/utils.html' import render_form_errors, render_password %}

{% block title %}Update Password | Dawdle{% endblock %}

{% set settings_page='update-password' %}

{% block settings_content %}
  <h1 class="title">Update Password</h1>
  {{ render_form_errors(form) }}
  <form method="POST" class="js-form">
    {{ form.csrf_token }}
    {% set focus_field = (form.errors.keys() | first) if form.errors else '' %}
    {{ render_password(form.current_password, autofocus=(focus_field == 'current_password')) }}
    {{ render_password(form.new_password, minlength='8', show_help=True, autofocus=(focus_field == 'new_password')) }}
    <div class="field content">
      <div class="control">
        <button type="submit" class="button is-fullwidth is-primary has-text-weight-bold js-submit">
          Update Password
        </button>
      </div>
    </div>
  </form>
{% endblock %}
